// NHS.UK Frontend
@import 'node_modules/nhsuk-frontend/packages/nhsuk';

// App specific styles
@import 'app/app';

// Design examples
@import 'design-example/design-example';

// Image with border
.nhsuk-image--border {
  border: 1px solid $color_nhsuk-grey-4;
  width: 100%;
}

/**
 * Hotfix for an issue with nested list spacing in
 * the NHS.UK frontend library
 *
 * https://github.com/nhsuk/nhsuk-frontend/issues/430
 */

.nhsuk-u-nested-list {
  margin-bottom: 0;
}

.nhsuk-u-nested-list > li {
  @include nhsuk-responsive-margin(2, 'top');
}

// Fix to make the expander background grey in a white section
// This needs to be added to the frontend library
.nhsuk-section--white {
  .nhsuk-expander {
    background-color: $color_nhsuk-grey-5;

    .nhsuk-details__summary {
      background-color: $color_nhsuk-grey-5;
    }
  }
  .nhsuk-expander[open] {
    .nhsuk-details__summary {
      border-color: $color_nhsuk-white;
    }
  }
}

/* ==========================================================================
   #TABLES
   ========================================================================== */

@include mq($until: tablet) {
  .app-table---responsive {
    thead {
      border: 0;
      clip: rect(0 0 0 0);
      height: 1px;
      margin: -1px;
      overflow: hidden;
      padding: 0;
      position: absolute;
      width: 1px;
    }
    tr {
      border-bottom: solid 2px $color_nhsuk-grey-4;
      display: block;

      &:last-child {
        border-bottom: 0;
      }
    }
    td {
      border-bottom: 1px dotted $color_nhsuk-grey-4;
      display: block;
      text-align: left;

      &:last-child {
        border-bottom: 0;
      }

      &::before {
        content: attr(data-label);
        display: block;
        font-weight: bold;
        padding-right: 20px;
      }
    }
  }
}

// Table fix for having small text in a cell
.nhsuk-table__cell.nhsuk-body-s {
  display: table-cell;
}

// <pre> and <code> tag styles
.app-pre {
  @include nhsuk-responsive-margin(4, 'bottom');

  background: $color_nhsuk-white;
  border: 1px solid $nhsuk-border-color;
  margin-top: 0;
  overflow: auto;
  padding: nhsuk-spacing(3);
  position: relative;

  & + h2 {
    @include nhsuk-responsive-padding(4, 'top');
  }

  & + h3 {
    @include nhsuk-responsive-padding(2, 'top');
  }
}

// Breadcrumb hotfix
// Too not have a visited state for back link
.nhsuk-breadcrumb__backlink:visited {
  color: $nhsuk-link-color;
}

// Footer copyright hotfix
// For when footer has no links
// To add correct spacing for the copyright text
.nhsuk-footer__copyright {
  margin-bottom: nhsuk-spacing(2);
}

// Nowrap hotfix
.nhsuk-u-nowrap {
  white-space: nowrap;
}

// Frontend override
// Should be refactored into the frontend
// The font weight should be 400 by default
.nhsuk-body-m {
  font-weight: 400;
}
